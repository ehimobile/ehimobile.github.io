<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="一、前言 为了让代码更加整洁，团队配合更加顺畅，制定开发规范文档，请 iOS 开发同学仔细阅读本文档，并在日常开发过程中遵守本文档中的约定。本规范文档结合 Apple’s Guide、Google’s OC Guide ，以及行业内比较知名的编码规范和开发团队的经验总结而制定，例如 Github’s Guide、Raywenderlich’s Guide ，有不完善和不合理的地方后期会持续修改增删">
<meta property="og:type" content="article">
<meta property="og:title" content="一嗨iOS开发规范">
<meta property="og:url" content="http://yoursite.com/2017/06/12/一嗨iOS开发规范/index.html">
<meta property="og:site_name" content="一嗨移动组技术博客">
<meta property="og:description" content="一、前言 为了让代码更加整洁，团队配合更加顺畅，制定开发规范文档，请 iOS 开发同学仔细阅读本文档，并在日常开发过程中遵守本文档中的约定。本规范文档结合 Apple’s Guide、Google’s OC Guide ，以及行业内比较知名的编码规范和开发团队的经验总结而制定，例如 Github’s Guide、Raywenderlich’s Guide ，有不完善和不合理的地方后期会持续修改增删">
<meta property="og:image" content="http://yoursite.com/2017/06/12/一嗨iOS开发规范/1.gif">
<meta property="og:image" content="http://yoursite.com/2017/06/12/一嗨iOS开发规范/1495706811587.png">
<meta property="og:image" content="http://yoursite.com/2017/06/12/一嗨iOS开发规范/1496208938863.png">
<meta property="og:image" content="http://yoursite.com/2017/06/12/一嗨iOS开发规范/1496208714736.png">
<meta property="og:updated_time" content="2017-06-12T05:05:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一嗨iOS开发规范">
<meta name="twitter:description" content="一、前言 为了让代码更加整洁，团队配合更加顺畅，制定开发规范文档，请 iOS 开发同学仔细阅读本文档，并在日常开发过程中遵守本文档中的约定。本规范文档结合 Apple’s Guide、Google’s OC Guide ，以及行业内比较知名的编码规范和开发团队的经验总结而制定，例如 Github’s Guide、Raywenderlich’s Guide ，有不完善和不合理的地方后期会持续修改增删">
<meta name="twitter:image" content="http://yoursite.com/2017/06/12/一嗨iOS开发规范/1.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/06/12/一嗨iOS开发规范/"/>





  <title>一嗨iOS开发规范 | 一嗨移动组技术博客</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">一嗨移动组技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/12/一嗨iOS开发规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ehi">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="一嗨移动组技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">一嗨iOS开发规范</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-12T13:03:12+08:00">
                2017-06-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h2><ul>
<li>为了让代码更加整洁，团队配合更加顺畅，制定开发规范文档，请 iOS 开发同学仔细阅读本文档，并在日常开发过程中遵守本文档中的约定。本规范文档结合 <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html" target="_blank" rel="external">Apple’s Guide</a>、<a href="https://google.github.io/styleguide/objcguide.xml" target="_blank" rel="external">Google’s OC Guide</a> ，以及行业内比较知名的编码规范和开发团队的经验总结而制定，例如 <a href="https://github.com/github/objective-c-style-guide" target="_blank" rel="external">Github’s Guide</a>、<a href="https://github.com/raywenderlich/objective-c-style-guide" target="_blank" rel="external">Raywenderlich’s Guide</a> ，有不完善和不合理的地方后期会持续修改增删。</li>
</ul>
<h2 id="二、项目目录"><a href="#二、项目目录" class="headerlink" title="二、项目目录"></a>二、项目目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">|- AppDelegate	// 目录下放的是AppDelegate.h(.m)文件，是整个应用的入口文件，所以单独拿出来</div><div class="line">|- Models		// App内的主要model，比如UserModel会在多个类中出现</div><div class="line">|- Features		// 功能模块目录     </div><div class="line">    |- Base             // 定义本项目中各种Controller、View、Model的基础类或基础接口。</div><div class="line">	    |- Models       // 数据模型</div><div class="line">        |- Views        // 视图</div><div class="line">        |- Controllers  // 控制器</div><div class="line">    |- Home</div><div class="line">        |- Models       </div><div class="line">        |- Views       </div><div class="line">        |- Controllers    </div><div class="line">    |- UserCenter</div><div class="line">        |- Models       </div><div class="line">        |- Views       </div><div class="line">        |- Controllers</div><div class="line">	...</div><div class="line">|- Macro 		// 整个应用会用到的宏定义</div><div class="line">	|- AppMacro.h          // app相关的宏定义</div><div class="line">    |- NotificationMacro.h // 通知相关的宏定义</div><div class="line">    |- VendorMacro.h       // 一些第三方的常量</div><div class="line">    |- UtilsMacro.h        // 一些方便使用的宏定义</div><div class="line">|- General      // 存放会被重用的Views、Classes、Categories</div><div class="line">    |- Views</div><div class="line">    |- Classes</div><div class="line">    |- Categories</div><div class="line">|- Helpers      // 帮助类。包含网络，数据库，定位等操作类的封装和实现</div><div class="line">	|- NetWork</div><div class="line">    |- Coredata</div><div class="line">    |- Location</div><div class="line">|- Vendors		// 第三方的类库/SDK。部分需要修改或者不支持cocoapod的第三方的框架引入</div><div class="line">|- Resources  	// 资源文件。包含图片、声音、文件（.plist/.json/.ttc）</div><div class="line">	|- Images</div><div class="line">	|- Sounds</div><div class="line">	|- Files</div></pre></td></tr></table></figure>
<h2 id="三、代码格式"><a href="#三、代码格式" class="headerlink" title="三、代码格式"></a>三、代码格式</h2><h3 id="3-1-语言"><a href="#3-1-语言" class="headerlink" title="3.1 语言"></a>3.1 语言</h3><p>应该使用 US 英语。</p>
<p>应该:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UIColor *myColor = [UIColor whiteColor];</div></pre></td></tr></table></figure></p>
<p>不应该:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UIColor *myColour = [UIColor whiteColor];</div></pre></td></tr></table></figure></p>
<h3 id="3-2-空格和换行"><a href="#3-2-空格和换行" class="headerlink" title="3.2 空格和换行"></a>3.2 空格和换行</h3><ol>
<li>使用 <code>Tab</code> 符号，而非空格。首行缩进一个 Tab ，即 4 个空格；</li>
<li>使用换行符结束一个文件；</li>
<li>方法大括号和其他大括号（<code>if</code>/<code>else</code>/<code>switch</code>/<code>while</code>/<code>for</code> 等）总是在同一行语句打开但在新行中关闭；</li>
<li>合理的使用空格将代码划分为逻辑块，例如 <code>if</code> 语句、  <code>for</code> 循环、三元操作符。</li>
</ol>
<p>应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for (int i = 0; i &lt; 10; i++) &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">for(int i=0;i&lt;10;i ++)&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>在方法之间应该有且只有一行，这样有利于在视觉上更清晰和更易于组织。在方法内的空白应该分离功能，但通常都抽离出来成为一个新方法；</li>
<li>优先使用 auto-synthesis 。但如果有必要，<code>@synthesize</code> 和 <code>@dynamic</code> 应该在实现中每个都声明新的一行。</li>
</ol>
<h3 id="3-3-每一行的最大长度"><a href="#3-3-每一行的最大长度" class="headerlink" title="3.3 每一行的最大长度"></a>3.3 每一行的最大长度</h3><p>过长的一行代码将会导致可读性问题，一些规范建议为 80 。</p>
<p>一些常用的如 UITableView 的方法长度就大于 80 ，建议注释上强制要求，方法上不强制。</p>
<p>可以在 <strong>Xcode &gt; Preferences &gt; Text Editing &gt; Page guide at column</strong> 中将最大行长设置为  80 。 </p>
<h3 id="3-4-Case语句"><a href="#3-4-Case语句" class="headerlink" title="3.4 Case语句"></a>3.4 Case语句</h3><ul>
<li>大括号在 <code>case</code> 语句中并不是必须的，除非编译器强制要求；</li>
<li>当一个 <code>case</code> 语句包含多行代码时，大括号应该加上；</li>
<li><code>break</code> 放在大括号 <code>}</code> 外。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">switch (condition) &#123;</div><div class="line">  case 1:</div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">  case 2: &#123;</div><div class="line">    // ...</div><div class="line">    // Multi-line example using braces</div><div class="line"> &#125;</div><div class="line">    break;</div><div class="line">  case 3:</div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">  default: </div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>有很多次，当相同代码被多个 cases 使用时，一个 <code>fall-through</code> 应该被使用。一个 <code>fall-through</code> 就是在 <code>case</code> 最后移除 <code>break</code> 语句，这样就能够允许执行流程跳转到下一个 <code>case</code> 值。为了代码更加清晰，一个 fall-through 需要注释一下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">switch (condition) &#123;</div><div class="line">  case 1:</div><div class="line">    // ** fall-through! **</div><div class="line">  case 2:</div><div class="line">    // code executed for values 1 and 2</div><div class="line">    break;</div><div class="line">  default: </div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当在 switch 使用枚举类型时，<code>default</code> 是不需要的。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">RWTLeftMenuTopItemType menuType = RWTLeftMenuTopItemMain;</div><div class="line"></div><div class="line">switch (menuType) &#123;</div><div class="line">  case RWTLeftMenuTopItemMain:</div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">  case RWTLeftMenuTopItemShows:</div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">  case RWTLeftMenuTopItemSchedule:</div><div class="line">    // ...</div><div class="line">    break;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-5-布尔值"><a href="#3-5-布尔值" class="headerlink" title="3.5 布尔值"></a>3.5 布尔值</h3><ol>
<li>Objective-C 使用 <code>YES</code> 和 <code>NO</code> 。因为 <code>true</code> 和 <code>false</code> 应该只在 CoreFoundation，C 或 C++ 代码使用；</li>
<li>既然 <code>nil</code> 解析成 <code>NO</code> ，所以没有必要在条件语句比较；</li>
<li>不要拿某样东西直接与 <code>YES</code> 比较，因为 <code>YES</code> 被定义为 1，而一个 <code>BOOL</code> 能被设置为 8 位。</li>
</ol>
<p>这是为了在不同文件保持一致性和在视觉上更加简洁而考虑。</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if (someObject) &#123;&#125;</div><div class="line">if (![anotherObject boolValue]) &#123;&#125;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">if (someObject == nil) &#123;&#125;</div><div class="line">if ([anotherObject boolValue] == NO) &#123;&#125;</div><div class="line">if (isAwesome == YES) &#123;&#125; // Never do this.</div><div class="line">if (isAwesome == true) &#123;&#125; // Never do this.</div></pre></td></tr></table></figure>
<p>如果 <code>BOOL</code> 属性的名字是一个形容词，属性就能忽略“ is ”缀，但要指定 get 访问器的惯用名称。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property (nonatomic, assign, getter=isEditable) BOOL editable;</div></pre></td></tr></table></figure>
<p>文字和例子从这里引用 <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingIvarsAndTypes.html#//apple_ref/doc/uid/20001284-BAJGIIJE" target="_blank" rel="external">Cocoa Naming Guidelines</a> 。</p>
<h3 id="3-6-条件语句"><a href="#3-6-条件语句" class="headerlink" title="3.6 条件语句"></a>3.6 条件语句</h3><p>条件语句主体为了防止出错应该使用大括号包围，即使条件语句主体能够不用大括号编写（如，只用一行代码）。</p>
<p>这些错误包括添加第二行代码和期望它成为 <code>if</code> 语句。例如 <a href="https://softwareengineering.stackexchange.com/a/16530" target="_blank" rel="external">Single statement if block - braces or no?</a> 中可能发生在 <code>if</code> 语句里面一行代码被注释了，然后下一行代码不知不觉地成为 <code>if</code> 语句的一部分。</p>
<p>除此之外，这种风格与其他条件语句的风格保持一致，所以更加容易阅读。</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if (!error) &#123;</div><div class="line">    return success;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if (!error)</div><div class="line">    return success;</div></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if (!error) return success;</div></pre></td></tr></table></figure>
<h4 id="3-6-1-三元操作符"><a href="#3-6-1-三元操作符" class="headerlink" title="3.6.1 三元操作符"></a>3.6.1 三元操作符</h4><ol>
<li>当需要提高代码的清晰性和简洁性时，三元操作符 <code>?:</code> 才会使用。单个条件求值常常需要它；</li>
<li>多个条件求值时，如果使用 <code>if</code> 语句或重构成实例变量时，代码会更加易读；</li>
<li>一般来说，最好使用三元操作符是在根据条件来赋值的情况下。</li>
</ol>
<p><code>Non-boolean</code> 的变量与某东西比较，加上括号 <code>()</code> 会提高可读性。如果被比较的变量是 <code>boolean</code> 类型，那么就不需要括号。</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">NSInteger value = 5;</div><div class="line">result = (value != 0) ? x : y;</div><div class="line"></div><div class="line">BOOL isHorizontal = YES;</div><div class="line">result = isHorizontal ? x : y;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = a &gt; b ? x = c &gt; d ? c : d : y;</div></pre></td></tr></table></figure>
<h3 id="3-7-Init-方法和类构造方法（instancetype）"><a href="#3-7-Init-方法和类构造方法（instancetype）" class="headerlink" title="3.7 Init 方法和类构造方法（instancetype）"></a>3.7 Init 方法和类构造方法（instancetype）</h3><p>当初始化方法和类构造方法被使用时，它应该返回类型是 <code>instancetype</code> 而不是 <code>id</code> 。这样确保编译器正确地推断结果类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (instancetype)init &#123;</div><div class="line">  self = [super init];</div><div class="line">  if (self) &#123;</div><div class="line">    // ...</div><div class="line">  &#125;</div><div class="line">  return self;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@interface Airplane</div><div class="line">+ (instancetype)airplaneWithType:(RWTAirplaneType)type;</div><div class="line">@end</div></pre></td></tr></table></figure>
<p>关于更多 <code>instancetype</code> 信息，请查看 <a href="http://nshipster.com/instancetype/" target="_blank" rel="external">NSHipster.com</a> 。</p>
<h3 id="3-8-CGRect函数"><a href="#3-8-CGRect函数" class="headerlink" title="3.8 CGRect函数"></a>3.8 CGRect函数</h3><p>当访问 <code>CGRect</code> 里的 <code>x</code>/<code>y</code>/<code>width</code>/<code>height</code> 时，应该使用 <code>CGGeometry</code> 函数而不是直接通过结构体来访问。引用 Apple 的 CGGeometry ：</p>
<blockquote>
<p>在这个参考文档中所有的函数，接受 <code>CGRect</code> 结构体作为输入，在计算它们结果时隐式地标准化这些 <code>rectangles</code> 。因此，你的应用程序应该避免直接访问和修改保存在 <code>CGRect</code> 数据结构中的数据。相反，使用这些函数来操纵 <code>rectangles</code> 和获取它们的特性。</p>
</blockquote>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CGRect frame = self.view.frame;</div><div class="line"></div><div class="line">CGFloat x = CGRectGetMinX(frame);</div><div class="line">CGFloat y = CGRectGetMinY(frame);</div><div class="line">CGFloat width = CGRectGetWidth(frame);</div><div class="line">CGFloat height = CGRectGetHeight(frame);</div><div class="line">CGRect frame = CGRectMake(0.0, 0.0, width, height);</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">CGRect frame = self.view.frame;</div><div class="line"></div><div class="line">CGFloat x = frame.origin.x;</div><div class="line">CGFloat y = frame.origin.y;</div><div class="line">CGFloat width = frame.size.width;</div><div class="line">CGFloat height = frame.size.height;</div><div class="line">CGRect frame = (CGRect)&#123; .origin = CGPointZero, .size = frame.size &#125;;</div></pre></td></tr></table></figure>
<h3 id="3-9-黄金路径（使用-return）"><a href="#3-9-黄金路径（使用-return）" class="headerlink" title="3.9 黄金路径（使用 return）"></a>3.9 黄金路径（使用 return）</h3><p>当使用条件语句编码时，不要嵌套 <code>if</code> 语句，多个返回语句更 OK 。</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (void)someMethod &#123;</div><div class="line">  if (![someOther boolValue]) &#123;</div><div class="line">	return;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  // Do something important</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)someMethod &#123;</div><div class="line">  if ([someOther boolValue]) &#123;</div><div class="line">    // Do something important</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-10-错误处理"><a href="#3-10-错误处理" class="headerlink" title="3.10 错误处理"></a>3.10 错误处理</h3><p>当方法通过引用来返回一个错误参数，判断返回值而不是错误变量。</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NSError *error;</div><div class="line">if (![self trySomethingWithError:&amp;error]) &#123;</div><div class="line">  // Handle Error</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">NSError *error;</div><div class="line">[self trySomethingWithError:&amp;error];</div><div class="line">if (error) &#123;</div><div class="line">  // Handle Error</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在成功的情况下，有些 Apple 的 APIs 记录垃圾值（garbage values）到错误参数（如果 non-NULL），那么判断错误值会导致 false 负值和 crash 。</p>
<h3 id="3-11-Block"><a href="#3-11-Block" class="headerlink" title="3.11 Block"></a>3.11 Block</h3><p>根据 <code>block</code> 的长度，有不同的书写规则：</p>
<ul>
<li>较短的 block 可以写在一行内（不强制）；</li>
<li>如果分行显示的话，block 的右括号 <code>}</code> 应该和调用 block 那行代码的第一个非空字符对齐；</li>
<li>block 内的代码采用 4 个空格的缩进；</li>
<li>如果 block 过于庞大，应该单独声明成一个变量来使用；</li>
<li><code>^</code> 和 <code>(</code> 之间，<code>^</code> 和 <code>{</code> 之间都没有空格，参数列表的右括号 <code>)</code> 和 <code>{</code> 之间有一个空格。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">// 较短的block可以写在一行内</div><div class="line">    [operation setCompletionBlock:^&#123; [self onOperationDone]; &#125;];</div><div class="line">    </div><div class="line">    // 分行书写的block，内部使用4空格缩进</div><div class="line">    [operation setCompletionBlock:^&#123;</div><div class="line">        [self.delegate newDataAvailable];</div><div class="line">    &#125;];</div><div class="line">    </div><div class="line">    // 使用C语言API调用的block遵循同样的书写规则</div><div class="line">    dispatch_async(_fileIOQueue, ^&#123;</div><div class="line">        NSString *path = [self sessionFilePath];</div><div class="line">        if (path) &#123;</div><div class="line">            // …</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    </div><div class="line">    // 较长的block关键字可以缩进后在新行书写，注意block的右括号`&#125;`和调用block那行代码的第一个非空字符对齐</div><div class="line">    // (Xcode本身对齐规则就是这样，平时很少注意到)</div><div class="line">    [[SessionService sharedService]</div><div class="line">     loadWindowWithCompletionBlock:^(SessionWindow *window) &#123;</div><div class="line">         if (window) &#123;</div><div class="line">             [self windowDidLoad:window];</div><div class="line">         &#125; else &#123;</div><div class="line">             [self errorLoadingWindow];</div><div class="line">         &#125;</div><div class="line">     &#125;];</div><div class="line">    </div><div class="line">    // 较长的block参数列表同样可以缩进后在新行书写</div><div class="line">    [[SessionService sharedService]</div><div class="line">     loadWindowWithCompletionBlock:</div><div class="line">     ^(SessionWindow *window) &#123;</div><div class="line">         if (window) &#123;</div><div class="line">             [self windowDidLoad:window];</div><div class="line">         &#125; else &#123;</div><div class="line">             [self errorLoadingWindow];</div><div class="line">         &#125;</div><div class="line">     &#125;];</div><div class="line">    </div><div class="line">    // 庞大的block应该单独定义成变量使用</div><div class="line">    void (^largeBlock)(void) = ^&#123;</div><div class="line">        // …</div><div class="line">    &#125;;</div><div class="line">    [_operationQueue addOperationWithBlock:largeBlock];</div><div class="line">    </div><div class="line">    // 在一个调用中使用多个block，注意到他们不是像函数那样通过`:`对齐的，而是同时进行了4个空格的缩进</div><div class="line">    [myObject doSomethingWith:arg1</div><div class="line">        firstBlock:^(Foo *a) &#123;</div><div class="line">            // …</div><div class="line">        &#125;</div><div class="line">        secondBlock:^(Bar *b) &#123;</div><div class="line">            // …</div><div class="line">        &#125;];</div></pre></td></tr></table></figure>
<p>另外要注意的是：</p>
<blockquote>
<p><strong>block 使用的时候判断一下，再回调，防止未实现，导致 crash。</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if (completion) &#123;</div><div class="line">	completion(true);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-12-数据结构的语法糖"><a href="#3-12-数据结构的语法糖" class="headerlink" title="3.12 数据结构的语法糖"></a>3.12 数据结构的语法糖</h3><p>应该使用可读性更好的语法糖来构造 <code>NSArray</code>，<code>NSDictionary</code> 等数据结构，避免使用冗长的 <code>alloc</code>、<code>init</code> 方法。</p>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSArray *array = @[[foo description], [bar description]];</div><div class="line">NSDictionary *dict = @&#123;NSForegroundColorAttributeName: [NSColor redColor]&#125;;</div></pre></td></tr></table></figure>
<p>如果构造代码不写在一行内，右括号 <code>]</code> 或者 <code>}</code> 写在新的一行，语句短的和长的缩进如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// 短的</div><div class="line">NSArray *array = @[</div><div class="line">                   @&quot;This&quot;,</div><div class="line">                   @&quot;is&quot;,</div><div class="line">                   @&quot;an&quot;,</div><div class="line">                   @&quot;array&quot;</div><div class="line">                   ];</div><div class="line"></div><div class="line">// 长的</div><div class="line">NSDictionary *dictionary = @&#123;</div><div class="line">    NSFontAttributeName : [UIFont fontWithName:@&quot;Helvetica-Bold&quot; size:12],</div><div class="line">    NSForegroundColorAttributeName : fontColor</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>构造字典时，字典的 <code>Key</code> 和 <code>Value</code> 与中间的冒号 <code>:</code> 都要留有一个空格，多行书写时，也可以将冒号 <code>:</code> 对齐：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">// 正确，冒号`:`前后留有一个空格</div><div class="line">NSDictionary *option1 = @&#123;</div><div class="line">    NSFontAttributeName : [UIFont fontWithName:@&quot;Helvetica-Bold&quot; size:12],</div><div class="line">    NSForegroundColorAttributeName : fontColor</div><div class="line">&#125;;</div><div class="line"></div><div class="line">// 正确，按照冒号`:`来对齐</div><div class="line">NSDictionary *option2 = @&#123;</div><div class="line">    NSFontAttributeName            : [NSFont fontWithName:@&quot;Arial&quot; size:12],</div><div class="line">    NSForegroundColorAttributeName : fontColor</div><div class="line">&#125;;</div><div class="line"></div><div class="line">//错误，冒号前应该有一个空格</div><div class="line">NSDictionary *wrong = @&#123;</div><div class="line">                        AKey: @&quot;b&quot;,</div><div class="line">                        BLongerKey: @&quot;c&quot;,</div><div class="line">                        &#125;;</div><div class="line"></div><div class="line">//错误，每一个元素要么单独成为一行，要么全部写在一行内</div><div class="line">NSDictionary *alsoWrong = @&#123;AKey : @&quot;a&quot;,</div><div class="line">                            BLongerKey : @&quot;b&quot;&#125;;</div></pre></td></tr></table></figure>
<h2 id="四、命名规范"><a href="#四、命名规范" class="headerlink" title="四、命名规范"></a>四、命名规范</h2><h3 id="4-1-基本原则"><a href="#4-1-基本原则" class="headerlink" title="4.1 基本原则"></a>4.1 基本原则</h3><h4 id="4-1-1-清晰性"><a href="#4-1-1-清晰性" class="headerlink" title="4.1.1 清晰性"></a>4.1.1 清晰性</h4><p>命名应该尽可能的清晰和简洁，但在 Objective-C 中，清晰比简洁更重要。由于 Xcode 强大的自动补全功能，我们不必担心名称过长的问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 清晰 </div><div class="line">insertObject:atIndex:</div><div class="line"></div><div class="line">// 不清晰，insert的对象类型和at的位置属性没有说明 </div><div class="line">insert:at:</div><div class="line"></div><div class="line">// 清晰 </div><div class="line">removeObjectAtIndex:</div><div class="line"></div><div class="line">// 不清晰，remove的对象类型没有说明，参数的作用没有说明 </div><div class="line">remove:</div></pre></td></tr></table></figure>
<p>不要使用单词的简写，拼写出完整的单词：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 清晰 </div><div class="line">destinationSelection </div><div class="line">setBackgroundColor:</div><div class="line"></div><div class="line">// 不清晰，不要使用简写 </div><div class="line">destSel </div><div class="line">setBkgdColor:</div></pre></td></tr></table></figure>
<p>然而，有部分单词简写在 Objective-C 编码过程中是非常常用的，以至于成为了一种规范，这些简写可以在代码中直接使用，下面列举了部分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">alloc == Allocate       max == Maximum </div><div class="line">alt == Alternate        min == Minimum </div><div class="line">app == Application      msg == Message </div><div class="line">calc == Calculate       nib == Interface Builder archive </div><div class="line">dealloc == Deallocate   init == Initialize  </div><div class="line">func == Function        rect == Rectangle </div><div class="line">horiz == Horizontal     vert == Vertical </div><div class="line">info == Information     temp == Temporary</div></pre></td></tr></table></figure>
<p>命名方法或者函数时要避免歧义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 有歧义，是返回sendPort还是send一个Port？ </div><div class="line">sendPort</div><div class="line"></div><div class="line">// 有歧义，是返回一个名字属性的值还是display一个name的动作？ </div><div class="line">displayName</div></pre></td></tr></table></figure>
<h4 id="4-1-2-一致性"><a href="#4-1-2-一致性" class="headerlink" title="4.1.2 一致性"></a>4.1.2 一致性</h4><p>整个工程的命名风格要保持一致性。</p>
<p>比如不同 Model 中表示性别应该用一样的名字，比如我们需要表示性别，不可以有的用 gender ，有的用 sex 。</p>
<p>或者不同类中完成相似功能的方法应该叫一样的名字，比如我们总是用 count 来返回集合的个数，不能在 A 类中使用 count 而在 B 类中使用 getNumber 。</p>
<h3 id="4-2-使用前缀"><a href="#4-2-使用前缀" class="headerlink" title="4.2 使用前缀"></a>4.2 使用前缀</h3><ul>
<li><p>前缀由大写的字母缩写组成，比如 Cocoa 中 NS 前缀代表 Founation 框架中的类， IB 则代表 Interface Builder 框架。</p>
</li>
<li><p>可以在为类、协议、函数、常量以及 typedef 宏命名的时候使用前缀，但注意不要为成员变量或者方法使用前缀，因为他们本身就包含在类的命名空间内。 </p>
</li>
<li><p>命名前缀的时候不要和苹果 SDK 框架冲突。</p>
</li>
</ul>
<h3 id="4-3-图片资源的命名"><a href="#4-3-图片资源的命名" class="headerlink" title="4.3 图片资源的命名"></a>4.3 图片资源的命名</h3><p>规则如下：</p>
<ul>
<li>用英文命名，不用拼音；</li>
<li>每一部分用下划线分隔；</li>
<li>图片名中两倍图在名字最后要加 <code>@2x</code>，三倍图在名字最后要加 <code>@3x</code>。</li>
</ul>
<p>格式如下：</p>
<blockquote>
<p>逻辑分类 <em> 表现内容 </em> 图片状态</p>
</blockquote>
<p>某个模块用到的，以模块作为第一部分，例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">tabbar_chat // tabbar聊天模块正常状态切图</div><div class="line">tabbar_chat_selected // tabbar聊天模块选中状态切图</div><div class="line"></div><div class="line">chat_switchCamera // 聊天模块中拍摄界面的切换摄像头切图</div></pre></td></tr></table></figure>
<p>有的切图是整个 App 用到的，例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">public_back // 返回切图</div><div class="line">public_close // 关闭切图</div></pre></td></tr></table></figure>
<h3 id="4-4-类和协议（-Class-amp-Protocol-）-的命名"><a href="#4-4-类和协议（-Class-amp-Protocol-）-的命名" class="headerlink" title="4.4 类和协议（ Class &amp; Protocol ） 的命名"></a>4.4 类和协议（ Class &amp; Protocol ） 的命名</h3><p>类名以大写字母开头，应该包含一个名词来表示它代表的对象类型如 Model 。<br>同时可以加上统一的前缀，比如 NSString、NSArray 等等以 NS 开头。 我们项目使用 <code>EHI</code> 。</p>
<p>而协议名称应该清晰地表示它所执行的行为，而且要和类名区别开来，所以通常使用 <code>ing</code> 词尾来命名一个协议，比如 NSCopying、NSLocking 。</p>
<h3 id="4-5-委托（Delegate）的命名"><a href="#4-5-委托（Delegate）的命名" class="headerlink" title="4.5 委托（Delegate）的命名"></a>4.5 委托（Delegate）的命名</h3><p>当特定的事件发生时，对象会触发它注册的委托方法。委托是 Objective-C 中常用的传递消息的方式。委托有它固定的命名范式。</p>
<p>委托的命名参考类名，通常使用 <code>Delegate</code> 词尾，比如 UITableViewDelegate、UIScrollViewDelegate。</p>
<p>一个委托方法的第一个参数是触发它的对象，第一个关键词是触发对象的类名，除非委托方法只有一个名为 sender 的参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 第一个关键词为触发委托的类名</div><div class="line">- (BOOL)tableView:(NSTableView *)tableView shouldSelectRow:(int)row;</div><div class="line">- (BOOL)application:(NSApplication *)sender openFile:(NSString *)filename;</div><div class="line"></div><div class="line">// 当只有一个&quot;sender&quot;参数时可以省略类名</div><div class="line">- (BOOL)applicationOpenUntitledFile:(NSApplication *)sender;</div></pre></td></tr></table></figure>
<p>根据委托方法触发的时机和目的，使用 should , will , did 等关键词：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)browserDidScroll:(NSBrowser *)sender;</div><div class="line"></div><div class="line">- (NSUndoManager *)windowWillReturnUndoManager:(NSWindow *)window;</div><div class="line"></div><div class="line">- (BOOL)windowShouldClose:(id)sender;</div></pre></td></tr></table></figure>
<p>###4.6 头文件的命名（Headers）</p>
<p>源码的头文件名应该清晰地暗示它的功能和包含的内容：</p>
<ul>
<li><p>如果头文件内只定义了单个类或者协议，直接用类名或者协议名来命名头文件，比如 <code>NSLocale.h</code> 定义了 <code>NSLocale</code> 类。</p>
</li>
<li><p>如果头文件内定义了一系列的类、协议、类别，使用其中最主要的类名来命名头文件，比如 <code>NSString.h</code> 定义了 <code>NSString</code> 和 <code>NSMutableString</code>。</p>
</li>
<li><p>每一个 Framework 都应该有一个和框架同名的头文件，包含了框架中所有公共类头文件的引用，比如 <code>Foundation.h</code>。</p>
</li>
<li><p>Framework 中有时候会实现在别的框架中类的类别扩展，这样的文件通常使用 <code>被扩展的框架名+Additions</code> 的方式来命名，比如 <code>NSBundleAdditions.h</code>。</p>
</li>
</ul>
<h3 id="4-7-方法的命名"><a href="#4-7-方法的命名" class="headerlink" title="4.7 方法的命名"></a>4.7 方法的命名</h3><p>在方法签名中，应该在方法类型（<code>-</code>/<code>+</code> 符号）之后有一个空格。在方法各个段之间应该也有一个空格（符合Apple的风格）。在参数之前应该包含一个具有描述性的关键字来描述参数。</p>
<p>方法一般以小写字母打头，每一个后续的单词首字母大写，方法名中不应该有标点符号（包括下划线），有两个例外：</p>
<ul>
<li>可以用一些通用的大写字母缩写打头方法，比如 PDF、TIFF 等。</li>
<li>可以用带下划线的前缀来命名私有方法或者类别中的方法（如 MJRefresh ）。</li>
</ul>
<p>如果方法表示让对象执行一个动作，使用动词打头来命名，注意不要使用 do，does 这种多余的关键字，动词本身的暗示就足够了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 动词打头的方法表示让对象执行一个动作</div><div class="line">- (void)invokeWithTarget:(id)target;</div><div class="line">- (void)selectTabViewItem:(NSTabViewItem *)tabViewItem;</div></pre></td></tr></table></figure>
<p>如果方法是为了获取对象的一个属性值，直接用属性名称来命名这个方法，注意不要添加 get 或者其他的动词前缀：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 正确，使用属性名来命名方法</div><div class="line">- (NSSize)cellSize;</div><div class="line"></div><div class="line">// 错误，添加了多余的动词前缀</div><div class="line">- (NSSize)calcCellSize;</div><div class="line">- (NSSize)getCellSize;</div></pre></td></tr></table></figure>
<p>对于有多个参数的方法，务必在每一个参数前都添加关键词，关键词应当清晰说明参数的作用。</p>
<p><code>and</code> 这个词的用法应该保留。它不应该用于多个参数来说明，就像 <code>initWithWidth:height</code> 以下这个例子：</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (void)setExampleText:(NSString *)text image:(UIImage *)image;</div><div class="line">- (void)sendAction:(SEL)aSelector to:(id)anObject forAllCells:(BOOL)flag;</div><div class="line">- (id)viewWithTag:(NSInteger)tag;</div><div class="line">- (instancetype)initWithWidth:(CGFloat)width height:(CGFloat)height;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">-(void)setT:(NSString *)text i:(UIImage *)image; // 关键词不清晰</div><div class="line">- (void)sendAction:(SEL)aSelector :(id)anObject :(BOOL)flag; // 无关键词</div><div class="line">- (id)taggedView:(NSInteger)tag; // 关键词的作用不清晰</div><div class="line">- (instancetype)initWithWidth:(CGFloat)width andHeight:(CGFloat)height;</div><div class="line">- (instancetype)initWith:(int)width and:(int)height;  // Never do this.</div></pre></td></tr></table></figure>
<p>方法的参数命名也有一些需要注意的地方：</p>
<ul>
<li>和方法名类似，参数的第一个字母小写，后面的每一个单词首字母大写。</li>
<li>不要再方法名中使用类似 <code>pointer</code>、<code>ptr</code> 这样的字眼去表示指针，参数本身的类型足以说明。</li>
<li>不要使用只有一两个字母的参数名。</li>
<li>不要使用简写，拼出完整的单词。</li>
</ul>
<p>下面列举了一些常用参数名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">...action:(SEL)aSelector</div><div class="line">...alignment:(int)mode</div><div class="line">...atIndex:(int)index</div><div class="line">...content:(NSRect)aRect</div><div class="line">...doubleValue:(double)aDouble</div><div class="line">...floatValue:(float)aFloat</div><div class="line">...font:(NSFont *)fontObj</div><div class="line">...frame:(NSRect)frameRect</div><div class="line">...intValue:(int)anInt</div><div class="line">...keyEquivalent:(NSString *)charCode</div><div class="line">...length:(int)numBytes</div><div class="line">...point:(NSPoint)aPoint</div><div class="line">...stringValue:(NSString *)aString</div><div class="line">...tag:(int)anInt</div><div class="line">...target:(id)anObject</div><div class="line">...title:(NSString *)aString</div></pre></td></tr></table></figure>
<h3 id="4-8-存取方法（Accessor-Methods）的命名"><a href="#4-8-存取方法（Accessor-Methods）的命名" class="headerlink" title="4.8 存取方法（Accessor Methods）的命名"></a>4.8 存取方法（Accessor Methods）的命名</h3><p>存取方法是指用来获取和设置类属性值的方法，属性的不同类型，对应着不同的存取方法规范：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">// 属性是一个名词时的存取方法范式</div><div class="line">- (type)noun;</div><div class="line">- (void)setNoun:(type)aNoun;</div><div class="line">// 例子</div><div class="line">- (NSString *)title;</div><div class="line">- (void)setTitle:(NSString *)aTitle;</div><div class="line"></div><div class="line">// 属性是一个形容词时存取方法的范式</div><div class="line">- (BOOL)isAdjective;</div><div class="line">- (void)setAdjective:(BOOL)flag;</div><div class="line">// 例子</div><div class="line">- (BOOL)isEditable;</div><div class="line">- (void)setEditable:(BOOL)flag;</div><div class="line"></div><div class="line">// 属性是一个动词时存取方法的范式</div><div class="line">- (BOOL)verbObject;</div><div class="line">- (void)setVerbObject:(BOOL)flag;</div><div class="line">// 例子</div><div class="line">- (BOOL)showsAlpha;</div><div class="line">- (void)setShowsAlpha:(BOOL)flag;</div></pre></td></tr></table></figure>
<p>命名存取方法时不要将动词转化为被动形式来使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 正确</div><div class="line">- (void)setAcceptsGlyphInfo:(BOOL)flag;</div><div class="line">- (BOOL)acceptsGlyphInfo;</div><div class="line"></div><div class="line">// 错误，不要使用动词的被动形式</div><div class="line">- (void)setGlyphInfoAccepted:(BOOL)flag;</div><div class="line">- (BOOL)glyphInfoAccepted;</div></pre></td></tr></table></figure>
<p>可以使用 <code>can</code>、<code>should</code>、<code>will</code> 等词来协助表达存取方法的意思，但不要使用 <code>do</code> 和 <code>does</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 正确</div><div class="line">- (void)setCanHide:(BOOL)flag;</div><div class="line">- (BOOL)canHide;</div><div class="line">- (void)setShouldCloseDocument:(BOOL)flag;</div><div class="line">- (BOOL)shouldCloseDocument;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 错误，不要使用`do`或者`does`</div><div class="line">- (void)setDoesAcceptGlyphInfo:(BOOL)flag;</div><div class="line">- (BOOL)doesAcceptGlyphInfo;</div></pre></td></tr></table></figure>
<p>为什么 Objective-C 中不适用 <code>get</code> 前缀来表示属性获取方法？因为 get 在 Objective-C 中通常只用来表示从函数指针返回值的函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 三个参数都是作为函数的返回值来使用的，这样的函数名可以使用`get`前缀</div><div class="line">- (void)getLineDash:(float *)pattern count:(int *)count phase:(float *)phase;</div></pre></td></tr></table></figure>
<h3 id="4-9-集合操作类方法（Collection-Methods）的命名"><a href="#4-9-集合操作类方法（Collection-Methods）的命名" class="headerlink" title="4.9 集合操作类方法（Collection Methods）的命名"></a>4.9 集合操作类方法（Collection Methods）的命名</h3><p>有些对象管理着一系列其它对象或者元素的集合，需要使用类似<code>增删查改</code>的方法来对集合进行操作，这些方法的命名范式一般为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// 集合操作范式</div><div class="line">- (void)addElement:(elementType)anObj;</div><div class="line">- (void)removeElement:(elementType)anObj;</div><div class="line">- (NSArray *)elements;</div><div class="line"></div><div class="line">// 例子</div><div class="line">- (void)addLayoutManager:(NSLayoutManager *)obj;</div><div class="line">- (void)removeLayoutManager:(NSLayoutManager *)obj;</div><div class="line">- (NSArray *)layoutManagers;</div></pre></td></tr></table></figure>
<p>注意，如果返回的集合是无序的，使用 <code>NSSet</code> 来代替 <code>NSArray</code>。如果需要将元素插入到特定的位置，使用类似于这样的命名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (void)insertLayoutManager:(NSLayoutManager *)obj atIndex:(int)index;</div><div class="line">- (void)removeLayoutManagerAtIndex:(int)index;</div></pre></td></tr></table></figure>
<p>如果管理的集合元素中有指向管理对象的指针，要设置成 <code>weak</code> 类型以防止引用循环。</p>
<p>下面是 SDK 中 <code>NSWindow</code> 类的集合操作方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)addChildWindow:(NSWindow *)childWin ordered:(NSWindowOrderingMode)place;</div><div class="line">- (void)removeChildWindow:(NSWindow *)childWin;</div><div class="line">- (NSArray *)childWindows;</div><div class="line">- (NSWindow *)parentWindow;</div><div class="line">- (void)setParentWindow:(NSWindow *)window;</div></pre></td></tr></table></figure>
<h3 id="4-10-函数（Functions）的命名"><a href="#4-10-函数（Functions）的命名" class="headerlink" title="4.10 函数（Functions）的命名"></a>4.10 函数（Functions）的命名</h3><p>函数的命名和方法有一些不同，主要是：</p>
<ul>
<li>函数名称一般带有缩写前缀，表示方法所在的框架。</li>
<li>前缀后的单词以“驼峰”表示法显示，第一个单词首字母大写。</li>
</ul>
<p>函数名的第一个单词通常是一个动词，表示方法执行的操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSHighlightRect</div><div class="line">NSDeallocateObject</div></pre></td></tr></table></figure>
<p>如果函数返回其参数的某个属性，省略动词：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">unsigned int NSEventMaskFromType(NSEventType type)</div><div class="line">float NSHeight(NSRect aRect)</div></pre></td></tr></table></figure>
<p>如果函数通过指针参数来返回值，需要在函数名中使用Get：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">const char *NSGetSizeAndAlignment(const char *typePtr, unsigned int *sizep, unsigned int *alignp)</div></pre></td></tr></table></figure>
<p>函数的返回类型是BOOL时的命名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">BOOL NSDecimalIsNotANumber(const NSDecimal *decimal)</div></pre></td></tr></table></figure>
<h3 id="4-11-属性的命名"><a href="#4-11-属性的命名" class="headerlink" title="4.11 属性的命名"></a>4.11 属性的命名</h3><p>所有属性特性应该显式地列出来，因为一般都是用 <code>nonatomic</code> ，但是默认是 <code>atomic</code> 且不频繁使用，所以为了看着整齐，把 <code>nonatomic</code> 写在前面。</p>
<p>属性和对象的存取方法相关联，属性的第一个字母小写，后续单词首字母大写，不必添加前缀。属性按功能命名成名词或者动词：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 名词属性</div><div class="line">@property (nonatomic, strong) NSString *title;</div><div class="line"></div><div class="line">// 动词属性</div><div class="line">@property (nonatomic, assign) BOOL showsAlpha;</div></pre></td></tr></table></figure>
<p>属性也可以命名成形容词，这时候通常会指定一个带有 <code>is</code> 前缀的 <code>get</code> 方法来提高可读性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property (nonatomic, assign, getter=isEditable) BOOL editable;</div></pre></td></tr></table></figure>
<p>命名实例变量，在变量名前加上 <code>“_”</code> 前缀（有些有历史的代码会将 <code>“_”</code> 放在后面），其它和命名属性一样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@implementation MyClass &#123;</div><div class="line">    BOOL _showsTitle;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当使用属性时，实例变量应该使用点语法 <code>self.</code> 来访问和改变。当你使用点语法时，通过使用 getter 或 setter 方法，属性仍然被访问或修改。想了解更多，阅读<a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html" target="_blank" rel="external">这里</a>。</p>
<p>但有一个特例：在初始化方法里，实例变量（例如： _variableName ）应该直接被使用来避免 getters/setters 潜在的副作用。</p>
<p>局部变量不应该包含下划线。</p>
<h3 id="4-12-对象的命名"><a href="#4-12-对象的命名" class="headerlink" title="4.12 对象的命名"></a>4.12 对象的命名</h3><p>对象的命名都统一格式如下：</p>
<blockquote>
<p>名称 + 类名</p>
</blockquote>
<p>应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UIButton *settingsButton;</div></pre></td></tr></table></figure>
<p>不应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UIButton *setBut;</div></pre></td></tr></table></figure>
<h3 id="4-13-通知（Notifications）的命名"><a href="#4-13-通知（Notifications）的命名" class="headerlink" title="4.13 通知（Notifications）的命名"></a>4.13 通知（Notifications）的命名</h3><p>通知常用于在模块间传递消息，所以通知要尽可能地表示出发生的事件。</p>
<p>但是请慎用，例如一个页面 FirstViewController 出另一个 SecondViewController ，SecondViewController 给 FirstViewController 传值用 Block 即可。</p>
<p>通知的命名范式是：</p>
<blockquote>
<p>k + [触发通知的类名] + [Did | Will(状态)] + [动作] + Notification</p>
</blockquote>
<p>例如系统的都以 NS 开头：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NSApplicationDidBecomeActiveNotification</div><div class="line">NSWindowDidMiniaturizeNotification</div><div class="line">NSTextViewDidChangeSelectionNotification</div><div class="line">NSColorPanelColorDidChangeNotification</div></pre></td></tr></table></figure>
<h3 id="4-14-常量、宏、枚举的命名"><a href="#4-14-常量、宏、枚举的命名" class="headerlink" title="4.14 常量、宏、枚举的命名"></a>4.14 常量、宏、枚举的命名</h3><p>如果要定义一组相关的常量，尽量使用枚举类型，枚举类型的命名规则和函数的命名规则相同。 建议使用 <code>NS_ENUM</code> 和 <code>NS_OPTIONS</code> 宏来定义枚举类型：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 定义一个枚举</div><div class="line">typedef NS_ENUM(NSInteger, NSMatrixMode) &#123;</div><div class="line">    NSRadioModeMatrix,</div><div class="line">    NSHighlightModeMatrix,</div><div class="line">    NSListModeMatrix,</div><div class="line">    NSTrackModeMatrix</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>使用匿名枚举定义 bit map ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">typedef NS_OPTIONS(NSUInteger, NSWindowMask) &#123;</div><div class="line">    NSBorderlessWindowMask      = 0,</div><div class="line">    NSTitledWindowMask          = 1 &lt;&lt; 0,</div><div class="line">    NSClosableWindowMask        = 1 &lt;&lt; 1,</div><div class="line">    NSMiniaturizableWindowMask  = 1 &lt;&lt; 2,</div><div class="line">    NSResizableWindowMask       = 1 &lt;&lt; 3</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>使用 <code>const</code> 定义浮点型或者单个的整数型常量，如果要定义一组相关的整数常量，应该优先使用枚举。常量的命名规范和函数相同：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">static NSString * const EHITableViewCellReuseIdentifier = @&quot;TableViewCellReuseIdentifier&quot;;</div></pre></td></tr></table></figure>
<p>不要使用 <code>#define</code> 宏来定义常量，如果是整型常量，尽量使用枚举，浮点型常量，使用 <code>const</code> 定义。<code>#define</code> 统一格式要加前缀 <code>k</code> ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#define kUIColorHex(_hex_) [UIColor colorWithHexString:((__bridge NSString *)CFSTR(#_hex_))]</div></pre></td></tr></table></figure>
<h2 id="五、注释"><a href="#五、注释" class="headerlink" title="五、注释"></a>五、注释</h2><h3 id="5-1-文件注释"><a href="#5-1-文件注释" class="headerlink" title="5.1 文件注释"></a>5.1 文件注释</h3><p>不强制性要求，如果需要，写的清晰易懂即可。这里拿 AFNetWorking 的框架来做模板：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">// AFHTTPRequestOperation.h</div><div class="line">//</div><div class="line">// Copyright (c) 2013-2014 AFNetworking (http://afnetworking.com)</div><div class="line">//</div><div class="line">// Permission is hereby granted, free of charge, to any person obtaining a copy</div><div class="line">// of this software and associated documentation files (the &quot;Software&quot;), to deal</div><div class="line">// in the Software without restriction, including without limitation the rights</div><div class="line">// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</div><div class="line">// copies of the Software, and to permit persons to whom the Software is</div><div class="line">// furnished to do so, subject to the following conditions:</div><div class="line">//</div><div class="line">// The above copyright notice and this permission notice shall be included in</div><div class="line">// all copies or substantial portions of the Software.</div><div class="line">//</div><div class="line">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div><div class="line">// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</div><div class="line">// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</div><div class="line">// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</div><div class="line">// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</div><div class="line">// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</div><div class="line">// THE SOFTWARE.</div></pre></td></tr></table></figure>
<h3 id="5-2-方法和属性注释"><a href="#5-2-方法和属性注释" class="headerlink" title="5.2 方法和属性注释"></a>5.2 方法和属性注释</h3><p>在 <code>.h</code> 文件中采用 Apple 的标准注释风格，好处是可以在引用的地方 <code>alt + 点击</code> 自动弹出注释，在写代码调用时也有提示方法或属性的说明，非常方便。</p>
<p>有很多可以自动生成注释格式的插件，推荐使用 <a href="https://github.com/onevcat/VVDocumenter-Xcode" target="_blank" rel="external">VVDocumenter</a>： </p>
<p><img src="./1.gif" alt="Alt text"></p>
<p>在 <code>.m</code> 文件中，这种方式参数多的时候占行数多也太啰嗦，可以用如下良好的方式说明即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/** Stop current preconnecting when application is going to background */</div><div class="line">- (void)stopRunning &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>协议、委托的注释要明确说明其被触发的条件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/** Delegate - Sent when failed to init connection, like p2p failed. / </div><div class="line">- (void)initConnectionDidFailed:(IPCConnectHandler *)handler &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在方法实现中使用 <code>//</code> 注释即可，但是后面必须追加一个空格分隔后面的注释语句。</p>
<p>如果在注释中要引用参数名或者方法函数名，使用一对 “ ` ” 将参数或者方法括起来以避免歧义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// Sometimes we need `count` to be less than zero.</div><div class="line"></div><div class="line">// Remember to call `StringWithoutSpaces(“foo bar baz”)`.</div></pre></td></tr></table></figure>
<h3 id="5-3-段注释"><a href="#5-3-段注释" class="headerlink" title="5.3 段注释"></a>5.3 段注释</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#pragma mark - 段索引</div></pre></td></tr></table></figure>
<p>该语句上下各保留一个换行，这个是一个分割线的效果，便于多个方法分类查看。</p>
<h2 id="六、编码风格"><a href="#六、编码风格" class="headerlink" title="六、编码风格"></a>六、编码风格</h2><h3 id="6-1-关于如何在代码块中留回车"><a href="#6-1-关于如何在代码块中留回车" class="headerlink" title="6.1 关于如何在代码块中留回车"></a>6.1 关于如何在代码块中留回车</h3><p>这里拿的是 AFNetworking 框架做的一个说明：</p>
<p><img src="./1495706811587.png" alt="Alt text"></p>
<h3 id="6-2-点符号语法"><a href="#6-2-点符号语法" class="headerlink" title="6.2 点符号语法"></a>6.2 点符号语法</h3><p>点语法是一种很方便封装访问方法调用的方式。当你使用点语法时，通过使用 <code>getter</code> 或 <code>setter</code> 方法，属性仍然被访问或修改。想了解更多，阅读 <a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html" target="_blank" rel="external">这里</a> 。</p>
<p>点语法应该总是被用来访问和修改属性，因为它使代码更加简洁。<code>[]</code> 符号更偏向于用在其他例子。</p>
<p>应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSInteger arrayCount = [self.array count];</div><div class="line">view.backgroundColor = [UIColor orangeColor];</div><div class="line">[UIApplication sharedApplication].delegate;</div></pre></td></tr></table></figure>
<p>不应该:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSInteger arrayCount = self.array.count;</div><div class="line">[view setBackgroundColor:[UIColor orangeColor]];</div><div class="line">UIApplication.sharedApplication.delegate;</div></pre></td></tr></table></figure>
<h3 id="6-3-nil、Nil、Null、NSNull-的使用"><a href="#6-3-nil、Nil、Null、NSNull-的使用" class="headerlink" title="6.3 nil、Nil、Null、NSNull 的使用"></a>6.3 nil、Nil、Null、NSNull 的使用</h3><p>我们先来看下这些空值的定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">nil:  Defines the id of a null instance，指向一个（实例）对象的空指针 </div><div class="line">例如：</div><div class="line">NSString *msg = nil;</div><div class="line">NSDate *date =nil;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Nil: Defines the id of a null class，指向一个类的空指针</div><div class="line">例如：</div><div class="line">Class class = Nil;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NULL：定义其他类型（基本类型、C类型）的空指针</div><div class="line">char *p = NULL;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">NSNull:数组中元素的占位符，数据中的元素不能为nil（可以为空，也就是NSNull），</div><div class="line">原因：nil 是数组的结束标志</div><div class="line">如果用nil，就会变成</div><div class="line">NSArray *array = [NSArray arrayWithObjects:</div><div class="line">[[NSObject alloc] init], </div><div class="line">nil,</div><div class="line">[[NSObject alloc] init], </div><div class="line">[[NSObject alloc] init], </div><div class="line">nil];，</div><div class="line">那么数组到第二个位置就会结束。打印[array count]的话会显示1而不是5</div></pre></td></tr></table></figure>
<h3 id="6-4-“-”判断"><a href="#6-4-“-”判断" class="headerlink" title="6.4 “==”判断"></a>6.4 “==”判断</h3><p>如果常量值在表达式右侧，代码将会编译和执行，并不像预期的那样。</p>
<p>如果常量值在表达式左侧，这个错误将在第一次尝试编译时被捕获。</p>
<p>应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if ( constant == var )</div><div class="line">if ( NULL == pointer )</div></pre></td></tr></table></figure>
<p>不应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if ( var == constant )</div><div class="line">if ( pointer == NULL )</div></pre></td></tr></table></figure>
<h3 id="6-5-Getter-方法"><a href="#6-5-Getter-方法" class="headerlink" title="6.5 Getter 方法"></a>6.5 Getter 方法</h3><p><code>Getter</code> 方法全部写在文件所有方法之后，按照声明的顺序来写，用段注释和其他方法分隔：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#pragma mark - Getter</div></pre></td></tr></table></figure>
<p>书写上建议统一使用下面这种方式，易复用。</p>
<p>应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (UIButton *)loginButton &#123;</div><div class="line">    if (!_loginButton) &#123;</div><div class="line">        UIButton * button = [UIButton buttonWithType:UIButtonTypeCustom];</div><div class="line">        [button setTitle:@&quot;登录&quot; forState:UIControlStateNormal];</div><div class="line">        button.backgroundColor = [UIColor cyanColor];</div><div class="line">        button.layer.cornerRadius = 4;</div><div class="line">        button.clipsToBounds = YES;</div><div class="line">        </div><div class="line">        [self.view addSubview:button];</div><div class="line">        _loginButton = button;</div><div class="line">    &#125;</div><div class="line">    return _loginButton;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不应该：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (UIButton *)loginButton &#123;</div><div class="line">    if (!_loginButton) &#123;</div><div class="line">        _loginButton = [UIButton buttonWithType:UIButtonTypeCustom];</div><div class="line">        [_loginButton setTitle:@&quot;登录&quot; forState:UIControlStateNormal];</div><div class="line">        _loginButton.backgroundColor = [UIColor cyanColor];</div><div class="line">        _loginButton.layer.cornerRadius = 4;</div><div class="line">        _loginButton.clipsToBounds = YES;</div><div class="line">        [self.view addSubview:_loginButton];</div><div class="line">    &#125;</div><div class="line">    return _loginButton;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-6-属性特性的使用（copy-strong-retain）"><a href="#6-6-属性特性的使用（copy-strong-retain）" class="headerlink" title="6.6 属性特性的使用（copy/strong/retain）"></a>6.6 属性特性的使用（copy/strong/retain）</h3><p><code>strong</code> 和 <code>retain</code> ：两者基本是一样的，在 ARC 环境下统一使用 strong。不一样的是 ARC 下的 strong 修饰 block 的时候会对 block 进行 copy 操作，不过还是建议保留好习惯，block 务必用 copy 修饰。</p>
<p><code>copy</code> ：用于 NSString、NSArray、NSDictionary 等有对应的可变类型的属性，和 Block （具体原因见<a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html#//apple_ref/doc/uid/TP40011210-CH8-SW12" target="_blank" rel="external">官方文档：Objects Use Properties to Keep Track of Blocks</a>）。</p>
<p>copy 特性：</p>
<blockquote>
<ol>
<li><p>因为父类指针可以指向子类对象，使用 copy 的目的是为了让本对象的属性不受外界影响，使用 copy 无论给我传入是一个可变对象还是不可对象，我本身持有的就是一个不可变的副本。</p>
</li>
<li><p>如果我们使用是 strong ，那么这个属性就有可能指向一个可变对象，如果这个可变对象在外部被修改了，那么会影响该属性。</p>
</li>
</ol>
</blockquote>
<h3 id="6-7-属性特性的使用-（weak-assign）"><a href="#6-7-属性特性的使用-（weak-assign）" class="headerlink" title="6.7 属性特性的使用 （weak/assign）"></a>6.7 属性特性的使用 （weak/assign）</h3><p><code>assign</code>：修饰基本数据类型和结构体。</p>
<p><code>weak</code>：修饰指针变量。例如 delegate ，一定要用 weak 修饰。</p>
<p> weak 比 assign 多了一个功能就是当属性所指向的对象消失的时候（也就是内存引用计数为0）会自动赋值为 nil ，这样再向 weak 修饰的属性发送消息就不会导致野指针操作 crash 。</p>
<h3 id="6-8-Block-和-Delegate-的使用"><a href="#6-8-Block-和-Delegate-的使用" class="headerlink" title="6.8 Block 和 Delegate 的使用"></a>6.8 Block 和 Delegate 的使用</h3><p>Block 和 Delegate 回调之前要判断。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// Block</div><div class="line">if (completionBlock) &#123;</div><div class="line">	completionBlock(operations); </div><div class="line">&#125;</div><div class="line"></div><div class="line">// Delegate</div><div class="line">if ([delegate respondsToSelector:@selector(hudWasHidden:)]) &#123;</div><div class="line">	[delegate performSelector:@selector(hudWasHidden:) withObject:self];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-9-h-文件的书写"><a href="#6-9-h-文件的书写" class="headerlink" title="6.9 .h 文件的书写"></a>6.9 .h 文件的书写</h3><p>属性和方法都尽量写在 .m 文件中，不要轻易暴露，外部其他文件需要使用的时候才写在 .h 文件中。</p>
<h3 id="6-10-扩展Category"><a href="#6-10-扩展Category" class="headerlink" title="6.10 扩展Category"></a>6.10 扩展Category</h3><p>文件命名格式如下：</p>
<blockquote>
<p>类名 + 扩展名</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UIImage+Extension</div></pre></td></tr></table></figure>
<p>不要滥用扩展，需要扩展前检查下是否已有类似类，例如 UIImage 已有 UIImage+Extension ，包含了图片裁剪和方向调整，就不用另写 UIImage+Resize 扩展了，如果想添加方法，在原有扩展上加。</p>
<p>当然功能比较独立情况除外，例如 YYKit 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">UIImage+YYAdd // 图片处理，例如裁剪、高斯模糊、圆角等</div><div class="line">UIImageView+YYWebImage // 加载web图片</div></pre></td></tr></table></figure>
<h3 id="6-11-能用新的不用老的，比如YYKit"><a href="#6-11-能用新的不用老的，比如YYKit" class="headerlink" title="6.11   能用新的不用老的，比如YYKit"></a>6.11   能用新的不用老的，比如YYKit</h3><p>尽量使用新的技术。比如由于项目比较久比较庞大，以前都用 MJRefresh 的一些封装，后来有了 YYKit 对一些类的封装更好，新的代码使用 YYKit ，慢慢以旧代新。</p>
<h2 id="七、工具推荐"><a href="#七、工具推荐" class="headerlink" title="七、工具推荐"></a>七、工具推荐</h2><h3 id="7-1-Alcatraz"><a href="#7-1-Alcatraz" class="headerlink" title="7.1 Alcatraz"></a>7.1 Alcatraz</h3><h4 id="7-1-1-Xcode8-兼容"><a href="#7-1-1-Xcode8-兼容" class="headerlink" title="7.1.1 Xcode8 兼容"></a>7.1.1 Xcode8 兼容</h4><p>Xcode8 开始苹果禁止使用插件，所以要做一次 XCode8 上的兼容，亲测有效：</p>
<ul>
<li><a href="http://www.jianshu.com/p/738df17e9765" target="_blank" rel="external">兼容－记录Xcode8.0恢复插件全过程
</a></li>
</ul>
<blockquote>
<p>安装 Alcatraz 时老是报错的话，直接从GitHub上下载 <a href="https://github.com/alcatraz/Alcatraz" target="_blank" rel="external"> Alcatraz </a> 工程 -&gt; 打开 Alcatraz 工程 -&gt; 运行 Alcatraz 工程 -&gt; 退出 Xcode -&gt; 重新打开 Xcode -&gt; <code>Load Bundle</code>。</p>
</blockquote>
<h4 id="7-1-2-Xcode-中看不到-Package-Manager"><a href="#7-1-2-Xcode-中看不到-Package-Manager" class="headerlink" title="7.1.2 Xcode 中看不到 Package Manager"></a>7.1.2 Xcode 中看不到 Package Manager</h4><p>当时 OK 了，后来再打开 Xcode -&gt; Window 又看不到 <code>Package Manager</code>  了，一番折腾后找到一篇文章，简单解决掉了。。。文章如下：</p>
<ul>
<li><a href="http://www.cnblogs.com/calence/p/6060291.html" target="_blank" rel="external">Xcode插件安装</a></li>
</ul>
<h4 id="7-1-3-插件安装无效"><a href="#7-1-3-插件安装无效" class="headerlink" title="7.1.3 插件安装无效"></a>7.1.3 插件安装无效</h4><p>终于能打开 Package Manager 方便的安装插件啦。但是安装后退出 Xcode ，再打开没有弹框是否 Load Bundles ，插件确实使用不了。解决如下：</p>
<p>在终端输入命令使用 <code>update_xcode_plugins</code> 更新插件后，再重新打开 Xcode 就会弹框是否 Load Bundles 了，选择 Load ，就可以使用了。</p>
<p>update_xcode_plugins 的安装和使用参考如下：</p>
<ul>
<li><a href="https://github.com/inket/update_xcode_plugins" target="_blank" rel="external">update_xcode_plugins</a></li>
</ul>
<h3 id="7-2-好用插件推荐"><a href="#7-2-好用插件推荐" class="headerlink" title="7.2 好用插件推荐"></a>7.2 好用插件推荐</h3><p>  以下是我用过觉得好用的插件推荐，大家还有什么好的插件的话欢迎推荐！</p>
<h4 id="7-2-1-FuzzyAutocomplete"><a href="#7-2-1-FuzzyAutocomplete" class="headerlink" title="7.2.1 FuzzyAutocomplete"></a>7.2.1 FuzzyAutocomplete</h4><p><a href="https://github.com/chendo/FuzzyAutocompletePlugin" target="_blank" rel="external">FuzzyAutocomplete</a> 通过添加模糊匹配来提高 Xcode 代码自动补全功能，开发者无需遵循从头匹配的原则，只要记得方法里某个关键字即可进行匹配，很好地提高了工作效率。  </p>
<p><img src="./1496208938863.png" alt="Alt text"></p>
<h4 id="7-2-2-KSImageNamed"><a href="#7-2-2-KSImageNamed" class="headerlink" title="7.2.2  KSImageNamed"></a>7.2.2  KSImageNamed</h4><p><a href="https://github.com/ksuther/KSImageNamed-Xcode" target="_blank" rel="external">KSImageNamed </a>为项目中使用的 UIImage 的 imageNamed: 方法提供文件名自动补全功能。使用 [UIImage imageNamed:@”xxx”] 时，该插件会扫描整个 workspace 中的图片文件，显示图片信息。</p>
<p><img src="./1496208714736.png" alt="Alt text"></p>
<h4 id="7-2-3-OMColorSense"><a href="#7-2-3-OMColorSense" class="headerlink" title="7.2.3 OMColorSense"></a>7.2.3 OMColorSense</h4><p><a href="https://github.com/omz/ColorSense-for-Xcode" target="_blank" rel="external">OMColorSense</a> 。代码里的那些冷冰冰的颜色数值，到底时什么颜色？如果你经常遇到这个问题，每每不得不运行下代码去看看，那么这个插件绝对不容错过。更彪悍的是你甚至可以点击显示的颜色面板，直接通过系统的 ColorPicker 来自动生成对应颜色代码！</p>
<p>使用：任意一个颜色，点击颜色行，该行的右上角会出现色快，点击这个色块可以选择颜色。</p>
<h4 id="7-2-4-AutoHighlightSymbol"><a href="#7-2-4-AutoHighlightSymbol" class="headerlink" title="7.2.4 AutoHighlightSymbol"></a>7.2.4 AutoHighlightSymbol</h4><p><a href="https://github.com/chiahsien/AutoHighlightSymbol" target="_blank" rel="external">AutoHighlightSymbol</a> 当你在 Xcode 选中一个词或者搜查一个词的时候标注高亮颜色，比 Xcode 自身的虚下划线明显得多。</p>
<h4 id="7-2-5-VVDocumenter"><a href="#7-2-5-VVDocumenter" class="headerlink" title="7.2.5 VVDocumenter"></a>7.2.5 VVDocumenter</h4><p><a href="https://github.com/onevcat/VVDocumenter-Xcode" target="_blank" rel="external">VVDocumenter</a> 规范化代码注释，只需要输入三个斜线 <code>///</code>，就自动显示规范注释了。 </p>
<h4 id="7-2-6-FKRealGroup"><a href="#7-2-6-FKRealGroup" class="headerlink" title="7.2.6 FKRealGroup"></a>7.2.6 FKRealGroup</h4><p><a href="https://github.com/Forkong/FKRealGroup" target="_blank" rel="external">FKRealGroup</a> 是一个增强Xcode创建、删除文件夹的插件。FKRealGroup会在编辑菜单中添加 <code>New Real Group</code> 和 <code>Delete Real Group</code> 两个选项。</p>
<p>Xcode本身的 <code>New Group</code> 选项只会创建一个虚拟文件夹，并不会在本地磁盘创建真实文件夹。<code>New Real Group</code> 选项会在相应磁盘目录创建一个真实的文件夹，<code>Delete Real Group</code> 同理。</p>
<h4 id="7-2-7-Auto-Importer"><a href="#7-2-7-Auto-Importer" class="headerlink" title="7.2.7 Auto-Importer"></a>7.2.7 Auto-Importer</h4><p><a href="https://github.com/citrusbyte/Auto-Importer-for-Xcode" target="_blank" rel="external">Auto-Importer</a> 快速导入头文件。</p>
<p>使用方法：选中你要导入的头文件的名称，使用快捷键 <code>⌘ + ctrl + H</code> 即可。</p>
<h2 id="八、Xcode-快捷键和-Mac-快捷键"><a href="#八、Xcode-快捷键和-Mac-快捷键" class="headerlink" title="八、Xcode 快捷键和 Mac 快捷键"></a>八、Xcode 快捷键和 Mac 快捷键</h2><ul>
<li><p><a href="http://www.jianshu.com/p/419f2dddd58b" target="_blank" rel="external">五分钟深度记忆你的Xcode快捷键</a></p>
</li>
<li><p><a href="https://support.apple.com/zh-cn/HT201236" target="_blank" rel="external">Mac 键盘快捷键</a></p>
</li>
</ul>
<h2 id="九、参考"><a href="#九、参考" class="headerlink" title="九、参考"></a>九、参考</h2><ul>
<li><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html" target="_blank" rel="external"><strong>Apple</strong>：Coding Guidelines for Cocoa</a></li>
<li><a href="https://google.github.io/styleguide/objcguide.xml" target="_blank" rel="external"><strong>Google</strong>：Google Objective-C Style Guide</a></li>
<li><a href="https://github.com/github/objective-c-style-guide" target="_blank" rel="external"><strong>GitHub</strong>：Style guide &amp; coding conventions for Objective-C projects</a></li>
<li><a href="https://github.com/raywenderlich/objective-c-style-guide" target="_blank" rel="external">Raywenderlich官方英文版</a></li>
<li><a href="https://github.com/samlaudev/Objective-C-Coding-Style#error-handling" target="_blank" rel="external">Raywenderlich稍微改动翻译版</a></li>
<li><a href="https://github.com/QianKaiLu/Objective-C-Coding-Guidelines-In-Chinese" target="_blank" rel="external">Objective-C-Coding-Guidelines-In-Chinese</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/12/一嗨Android开发规范/" rel="prev" title="一嗨Android开发规范">
                一嗨Android开发规范 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="ehi" />
          <p class="site-author-name" itemprop="name">ehi</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、前言"><span class="nav-number">1.</span> <span class="nav-text">一、前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、项目目录"><span class="nav-number">2.</span> <span class="nav-text">二、项目目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、代码格式"><span class="nav-number">3.</span> <span class="nav-text">三、代码格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-语言"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 语言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-空格和换行"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 空格和换行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-每一行的最大长度"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 每一行的最大长度</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Case语句"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 Case语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-布尔值"><span class="nav-number">3.5.</span> <span class="nav-text">3.5 布尔值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-条件语句"><span class="nav-number">3.6.</span> <span class="nav-text">3.6 条件语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-6-1-三元操作符"><span class="nav-number">3.6.1.</span> <span class="nav-text">3.6.1 三元操作符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-Init-方法和类构造方法（instancetype）"><span class="nav-number">3.7.</span> <span class="nav-text">3.7 Init 方法和类构造方法（instancetype）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8-CGRect函数"><span class="nav-number">3.8.</span> <span class="nav-text">3.8 CGRect函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-9-黄金路径（使用-return）"><span class="nav-number">3.9.</span> <span class="nav-text">3.9 黄金路径（使用 return）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-10-错误处理"><span class="nav-number">3.10.</span> <span class="nav-text">3.10 错误处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-11-Block"><span class="nav-number">3.11.</span> <span class="nav-text">3.11 Block</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-12-数据结构的语法糖"><span class="nav-number">3.12.</span> <span class="nav-text">3.12 数据结构的语法糖</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、命名规范"><span class="nav-number">4.</span> <span class="nav-text">四、命名规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-基本原则"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 基本原则</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-清晰性"><span class="nav-number">4.1.1.</span> <span class="nav-text">4.1.1 清晰性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-一致性"><span class="nav-number">4.1.2.</span> <span class="nav-text">4.1.2 一致性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-使用前缀"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 使用前缀</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-图片资源的命名"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 图片资源的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-类和协议（-Class-amp-Protocol-）-的命名"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 类和协议（ Class & Protocol ） 的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-委托（Delegate）的命名"><span class="nav-number">4.5.</span> <span class="nav-text">4.5 委托（Delegate）的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-方法的命名"><span class="nav-number">4.6.</span> <span class="nav-text">4.7 方法的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-存取方法（Accessor-Methods）的命名"><span class="nav-number">4.7.</span> <span class="nav-text">4.8 存取方法（Accessor Methods）的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-9-集合操作类方法（Collection-Methods）的命名"><span class="nav-number">4.8.</span> <span class="nav-text">4.9 集合操作类方法（Collection Methods）的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-10-函数（Functions）的命名"><span class="nav-number">4.9.</span> <span class="nav-text">4.10 函数（Functions）的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-11-属性的命名"><span class="nav-number">4.10.</span> <span class="nav-text">4.11 属性的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-12-对象的命名"><span class="nav-number">4.11.</span> <span class="nav-text">4.12 对象的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-13-通知（Notifications）的命名"><span class="nav-number">4.12.</span> <span class="nav-text">4.13 通知（Notifications）的命名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-14-常量、宏、枚举的命名"><span class="nav-number">4.13.</span> <span class="nav-text">4.14 常量、宏、枚举的命名</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、注释"><span class="nav-number">5.</span> <span class="nav-text">五、注释</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-文件注释"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 文件注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-方法和属性注释"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 方法和属性注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-段注释"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 段注释</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#六、编码风格"><span class="nav-number">6.</span> <span class="nav-text">六、编码风格</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-关于如何在代码块中留回车"><span class="nav-number">6.1.</span> <span class="nav-text">6.1 关于如何在代码块中留回车</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-点符号语法"><span class="nav-number">6.2.</span> <span class="nav-text">6.2 点符号语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-nil、Nil、Null、NSNull-的使用"><span class="nav-number">6.3.</span> <span class="nav-text">6.3 nil、Nil、Null、NSNull 的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-“-”判断"><span class="nav-number">6.4.</span> <span class="nav-text">6.4 “==”判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5-Getter-方法"><span class="nav-number">6.5.</span> <span class="nav-text">6.5 Getter 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-6-属性特性的使用（copy-strong-retain）"><span class="nav-number">6.6.</span> <span class="nav-text">6.6 属性特性的使用（copy/strong/retain）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-7-属性特性的使用-（weak-assign）"><span class="nav-number">6.7.</span> <span class="nav-text">6.7 属性特性的使用 （weak/assign）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-8-Block-和-Delegate-的使用"><span class="nav-number">6.8.</span> <span class="nav-text">6.8 Block 和 Delegate 的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-9-h-文件的书写"><span class="nav-number">6.9.</span> <span class="nav-text">6.9 .h 文件的书写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-10-扩展Category"><span class="nav-number">6.10.</span> <span class="nav-text">6.10 扩展Category</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-11-能用新的不用老的，比如YYKit"><span class="nav-number">6.11.</span> <span class="nav-text">6.11   能用新的不用老的，比如YYKit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#七、工具推荐"><span class="nav-number">7.</span> <span class="nav-text">七、工具推荐</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Alcatraz"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 Alcatraz</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-1-Xcode8-兼容"><span class="nav-number">7.1.1.</span> <span class="nav-text">7.1.1 Xcode8 兼容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-2-Xcode-中看不到-Package-Manager"><span class="nav-number">7.1.2.</span> <span class="nav-text">7.1.2 Xcode 中看不到 Package Manager</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-3-插件安装无效"><span class="nav-number">7.1.3.</span> <span class="nav-text">7.1.3 插件安装无效</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-好用插件推荐"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 好用插件推荐</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-1-FuzzyAutocomplete"><span class="nav-number">7.2.1.</span> <span class="nav-text">7.2.1 FuzzyAutocomplete</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-2-KSImageNamed"><span class="nav-number">7.2.2.</span> <span class="nav-text">7.2.2  KSImageNamed</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-3-OMColorSense"><span class="nav-number">7.2.3.</span> <span class="nav-text">7.2.3 OMColorSense</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-4-AutoHighlightSymbol"><span class="nav-number">7.2.4.</span> <span class="nav-text">7.2.4 AutoHighlightSymbol</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-5-VVDocumenter"><span class="nav-number">7.2.5.</span> <span class="nav-text">7.2.5 VVDocumenter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-6-FKRealGroup"><span class="nav-number">7.2.6.</span> <span class="nav-text">7.2.6 FKRealGroup</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-2-7-Auto-Importer"><span class="nav-number">7.2.7.</span> <span class="nav-text">7.2.7 Auto-Importer</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#八、Xcode-快捷键和-Mac-快捷键"><span class="nav-number">8.</span> <span class="nav-text">八、Xcode 快捷键和 Mac 快捷键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#九、参考"><span class="nav-number">9.</span> <span class="nav-text">九、参考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ehi</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
